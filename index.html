<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2025.12 Taiwan Trip</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header">
    <h1>🇹🇼 2025 대만 여행</h1>
    <p>하영 & 종권</p>
    
    <div id="weather-widget" class="weather-widget">
      <span class="weather-icon">⏳</span>
      <span class="weather-text">날씨 로딩중...</span>
    </div>
  </header>

  <section class="day-wrap">
    <h2 class="day-title">DAY 1 · 12/24 (수)</h2>

    <section class="card flight">
      <div class="card-header">✈️ 항공</div>
      <div class="card-body">
        <p>인천 → 타이중 (TW669)<br>14:25 → 16:40</p>
        <div class="btn-group">
          <a class="btn btn-flight" target="_blank" href="https://www.twayair.com/app/reservation/eTicket?encPnrNumber=CdcdauTnbRSVmBXWJe5uFA==&encGuestId=ZCoboH/6lCw/cWf+oBYEsg==&regionCode=KR&langCode=ko-KR">하영의 E-ticket</a>
          <a class="btn btn-flight" target="_blank" href="https://www.twayair.com/app/reservation/eTicket?encPnrNumber=CdcdauTnbRSVmBXWJe5uFA==&encGuestId=dC/F13MJBOO1aOfvXrNyng==&regionCode=KR&langCode=ko-KR">종권의 E-ticket</a>
        </div>
      </div>
    </section>

    <section class="card train">
      <div class="card-header">🚐 이동</div>
      <div class="card-body">
        <p>타이중 공항 → 타이중 HSR역</p>
        <div class="btn-group">
          <a class="btn btn-train" target="_blank" href="https://www.google.co.kr/maps/dir/%ED%83%80%EC%9D%B4%EC%A4%91+%EA%B5%AD%EC%A0%9C%EA%B3%B5%ED%95%AD+No.+168%E8%99%9F,+Section+1,+Zhonghang+Rd,+Shalu+District,+Taichung+City,+%EB%8C%80%EB%A7%8C+433/HSR+Taichung+Station+Visitor+Information+Center,+Zhanqu+2nd+Road,+%EC%9A%B0%EB%A5%B4+%EA%B5%AC+%ED%83%80%EC%9D%B4%EC%A4%91+%EB%8C%80%EB%A7%8C/@24.1860682,120.5353536,12z/data=!3m1!4b1!4m14!4m13!1m5!1m1!1s0x346911535f840371:0x586410335e8a5024!2m2!1d120.6244181!2d24.2620608!1m5!1m1!1s0x34693ea1c71c133d:0xd31960d6077a71b9!2m2!1d120.615692!2d24.1117072!3e3">경로 보기</a>
        </div>
      </div>
    </section>

   <section class="card train">
      <div class="card-header">🚄 이동</div>
      <div class="card-body">
        <p>타이중 HSR → 가오슝 좌영<br>18:47 → 19:55</p>
        
        <div style="font-size: 13px; color: #666; margin-top: 4px; line-height: 1.3;">
          <p style="margin: 0; color: #d32f2f; font-weight: 600;">
            * 예약번호+여권 지참 후 매표소에서 실물티켓 수령필수
          </p>
          <p style="margin: 4px 0 0 0;">
            * 예약번호 : 02197465<br>
            * 하영 리딤 코드 / 여권번호 : WZNE2FXP / M910R7581<br>
            * 종권 리딤 코드 / 여권번호 : ETAPX65F / M46033350
          </p>
        </div>
        <div class="btn-group">
          <a class="btn btn-train" target="_blank" href="https://pass.thsrc.com.tw/oatsb2c/home.do">THSR 예매내역</a>
        </div>
      </div>
    </section>

    <section class="card hotel">
      <div class="card-header">🏨 숙소 체크인</div>
      <div class="card-body">
        <p>가오슝 · 로얄 파인 호텔<br>체크인: 12/24 15:00</p>
        <div class="btn-group">
          <a class="btn btn-hotel" target="_blank" href="https://maps.app.goo.gl/ephmH1BkGgynhhPV9">위치</a>
          <a class="btn btn-hotel" target="_blank" href="https://platform-site.yanolja.com/global/orders/2511301115100177">자세히보기</a>
        </div>
      </div>
    </section>

  </section>

  <section class="day-wrap">
    <h2 class="day-title">DAY 2 · 12/25 (목)</h2>
    <section class="card tour">
      <div class="card-header">🗺️ 관광</div>
      <div class="card-body">
        <p>가오슝 일정(미정)</p>
      </div>
    </section>
  </section>

  <section class="day-wrap">
    <h2 class="day-title">DAY 3 · 12/26 (금)</h2>
    <section class="card tour">
      <div class="card-header">🗺️ 관광</div>
      <div class="card-body">
        <p>컨딩 당일치기 (예정)</p>
      </div>
    </section>
  </section>

  <section class="day-wrap">
    <h2 class="day-title">DAY 4 · 12/27 (토)</h2>
    <section class="card tour">
      <div class="card-header">🗺️ 관광</div>
      <div class="card-body">
        <p>가오슝 일정(미정)</p>
      </div>
    </section>
  </section>

  <section class="day-wrap">
    <h2 class="day-title">DAY 5 · 12/28 (일)</h2>
    <section class="card hotel">
      <div class="card-header">🏨 숙소 체크아웃</div>
      <div class="card-body">
        <p>가오슝 · 로얄 파인 호텔<br>체크아웃: 12/28 11:00</p>
      </div>
    </section>

    <section class="card hotel">
      <div class="card-header">🏨 숙소 체크인</div>
      <div class="card-body">
        <p>타이베이 · 호텔셔<br>체크인: 12/28 15:00</p>
        <div class="btn-group">
          <a class="btn btn-hotel" target="_blank" href="https://maps.app.goo.gl/wo1iGZK7qr49E9998">위치</a>
          <a class="btn btn-hotel" target="_blank" href="https://www.agoda.com/ko-kr/account/editbooking.html?bookingId=9fUT76EUtIypUoE%2BgI%2BS3A%3D%3D">자세히 보기</a>
        </div>
      </div>
    </section>
  </section>

  <section class="day-wrap">
    <h2 class="day-title">DAY 6 · 12/29 (월)</h2>
    <section class="card tour">
      <div class="card-header">🗺️ 관광</div>
      <div class="card-body">
        <p>타이베이 일정(미정)</p>
      </div>
    </section>
  </section>

  <section class="day-wrap">
    <h2 class="day-title">DAY 7 · 12/30 (화)</h2>
    <section class="card hotel">
      <div class="card-header">🏨 숙소 체크아웃</div>
      <div class="card-body">
        <p>타이베이 · 호텔셔<br>체크아웃: 12/30 11:00</p>
      </div>
    </section>
  </section>

<script>
  const weatherIcon = document.querySelector('.weather-icon');
  const weatherText = document.querySelector('.weather-text');

  function onGeoOk(position) {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;
    // Open-Meteo API 호출 (무료, 가입 불필요)
    const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`;

    fetch(url)
      .then(response => response.json())
      .then(data => {
        const weather = data.current_weather;
        const temp = Math.round(weather.temperature);
        const code = weather.weathercode; 

        // 날씨 코드 아이콘 매핑
        let icon = '🌤️';
        if (code === 0) icon = '☀️'; // 맑음
        else if (code >= 1 && code <= 3) icon = '☁️'; // 흐림
        else if (code >= 45 && code <= 48) icon = '🌫️'; // 안개
        else if (code >= 51 && code <= 67) icon = '☔'; // 비
        else if (code >= 71 && code <= 77) icon = '❄️'; // 눈
        else if (code >= 80 && code <= 82) icon = '☔'; // 소나기
        else if (code >= 95) icon = '⚡'; // 번개

        weatherIcon.innerText = icon;
        weatherText.innerText = `${temp}°C`;
      });
  }

  function onGeoError() {
    weatherIcon.innerText = '🚫';
    weatherText.innerText = '위치권한 필요';
  }

  // 위치 정보 요청
  navigator.geolocation.getCurrentPosition(onGeoOk, onGeoError);
</script>

</body>
</html>
